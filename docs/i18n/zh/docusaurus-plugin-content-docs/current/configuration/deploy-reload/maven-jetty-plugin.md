---
title: Maven Jetty plugin
_i18n_hash: 13b8de676f30b5a21eb7e9c2b49945b6
---
Maven Jetty 插件是一个流行的工具，允许开发人员直接从其 Maven 项目中在嵌入式 Jetty 服务器上运行 Java 网络应用程序。

Jetty 插件启动一个嵌入式 Jetty 服务器，监控应用程序的文件，包括 Java 类和资源，查看是否有更改。当检测到更新时，它会自动重新部署应用程序，从而通过消除手动构建和部署步骤加快开发速度。

## Jetty 配置 {#jetty-configurations}

以下是微调插件热部署和服务器交互设置的一些基本配置：

| 属性                          | 描述                                                                                                                                                                           | 默认值        |
|-------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|
| **`scan`**                    | 配置 Jetty 服务器多久扫描一次 **`pom.xml`** 中的文件更改。骨架项目将此设置为 `2` 秒。增加这个间隔可以减少 CPU 负载，但可能会延迟应用中的更改被反映。 | `1`            |

## webforJ 配置 {#webforj-configurations}

| 属性                          | 描述                                                                                                                                                                           | 默认值        |
|-------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|
| **`webforj.reloadOnServerError`** | 使用热重新部署时，整个 WAR 文件会被替换。如果客户端在服务器重新启动时发送请求，便会发生错误。此设置允许客户端尝试重新加载页面，假设服务器会很快恢复在线。仅适用于开发环境，仅处理特定于热重新部署的错误。 | `on`           |
| **`webforj.clientHeartbeatRate`** | 设置客户端发送 ping 查询服务器可用性的间隔。这保持客户端与服务器的通信。对于开发，使用较短的间隔以快速检测错误。在生产中，将其设置为至少 50 秒，以避免过多请求。 | `50s`          |

## 使用注意事项 {#usage-considerations}

虽然 Jetty 插件对于开发非常有效，但它有一些潜在的限制：

- **内存和 CPU 使用**：在 `pom.xml` 中设置的较低 `scan` 值导致的频繁文件扫描可能会增加资源消耗，特别是在大型项目中。增加间隔可能会减少负载，但也会减缓重新部署的速度。

- **有限的生产使用**：Jetty 插件是为开发设计的，不适用于生产环境。它缺乏生产所需的性能优化和安全配置，更适合本地测试。

- **会话管理**：在热重新部署期间，用户会话可能无法保留，尤其是在代码发生大结构更改时。这可能会干扰涉及用户会话数据的测试，需要手动会话管理或工作区配置以便于开发。
