---
title: Maven Jetty plugin
_i18n_hash: 7311fe4d0b6c5382244d898f099b9435
---
Maven Jetty 插件是一个流行的工具，可以让开发人员直接从他们的 Maven 项目中在嵌入式 Jetty 服务器内运行 Java 网络应用程序。

Jetty 插件启动一个嵌入式 Jetty 服务器，该服务器监控应用程序的文件，包括 Java 类和资源的变化。当检测到更新时，它会自动重新部署应用程序，从而通过消除手动构建和部署步骤加快开发速度。

## Jetty 配置 {#jetty-configurations}

以下是一些用于微调插件热部署和服务器交互设置的重要配置：

| 属性                              | 描述                                                                                                                                                             | 默认值        |
|-----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|
| **`scan`**         | 配置 Jetty 服务器扫描 **`pom.xml`** 中文件变化的频率。基础项目将此设置为 `2` 秒。增加此间隔可以减少 CPU 负载，但可能会延迟更改在应用程序中的反映。 | `1`            |

## webforJ 配置 {#webforj-configurations}

| 属性                              | 描述                                                                                                                                                             | 默认值        |
|-----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|
| **`webforj.reloadOnServerError`** | 使用热重部署时，整个 WAR 文件会被替换。如果客户端在服务器重新启动时发送请求，则会发生错误。此设置允许客户端尝试刷新页面，假设服务器会很快重新上线。仅适用于开发环境，并且仅处理与热重部署相关的特定错误。 | `on`           |
| **`webforj.clientHeartbeatRate`** | 设置客户端查询服务器可用性的心跳间隔。这保持了客户端与服务器之间的通信。在开发中，使用更短的间隔以便于更快的错误检测。在生产中，将其设置为至少 50 秒以避免过多的请求。 | `50s`          |

## 使用注意事项 {#usage-considerations}

虽然 Jetty 插件在开发中非常有效，但也存在一些潜在的限制：

- **内存和 CPU 使用**：频繁的文件扫描（由 `pom.xml` 中较低的 `scan` 值设置）可能会增加资源消耗，尤其是在大型项目中。增加间隔可能减少负载，但也会减慢重新部署的速度。

- **有限的生产使用**：Jetty 插件是为开发设计的，而不是用于生产环境。它缺乏生产所需的性能优化和安全配置，因此更适合本地测试。

- **会话管理**：在热重部署期间，用户会话可能不会被保留，尤其是在代码发生大规模结构性变化时。这可能会干扰涉及用户会话数据的测试，需要手动会话管理或开发中的变通配置。
